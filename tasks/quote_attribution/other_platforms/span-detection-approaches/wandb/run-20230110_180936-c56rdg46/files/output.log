Some weights of the model checkpoint at google/bigbird-roberta-base were not used when initializing BigBirdModel: ['cls.predictions.transform.LayerNorm.bias', 'cls.predictions.bias', 'cls.predictions.decoder.weight', 'cls.predictions.transform.dense.bias', 'cls.predictions.transform.LayerNorm.weight', 'cls.seq_relationship.bias', 'cls.seq_relationship.weight', 'cls.predictions.transform.dense.weight', 'cls.predictions.decoder.bias']
- This IS expected if you are initializing BigBirdModel from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BigBirdModel from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
  0%|          | 0/516 [00:00<?, ?it/s]
Traceback (most recent call last):
  File "/Users/alex/opt/anaconda3/lib/python3.7/site-packages/transformers/tokenization_utils_base.py", line 248, in __getattr__
    return self.data[item]
KeyError: 'token_ids'
During handling of the above exception, another exception occurred:
Traceback (most recent call last):
  File "/Applications/PyCharm.app/Contents/plugins/python/helpers/pydev/pydevd.py", line 1438, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
  File "/Applications/PyCharm.app/Contents/plugins/python/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
  File "/Users/alex/Projects/usc-research/source-exploration/tasks/quote_attribution/other_platforms/span-detection-approaches/trainer.py", line 121, in <module>
    train_input, hf_tokenizer=tokenizer, max_length=data_args.max_sequence_len
  File "./dataset.py", line 126, in __init__
    self.process_data_file(input_data)
  File "./dataset.py", line 142, in process_data_file
    doc_tokens = encoded_data.token_ids
  File "/Users/alex/opt/anaconda3/lib/python3.7/site-packages/transformers/tokenization_utils_base.py", line 250, in __getattr__
    raise AttributeError
AttributeError
Python 3.7.6 (default, Jan  8 2020, 13:42:34)
Type 'copyright', 'credits' or 'license' for more information
IPython 7.22.0 -- An enhanced Interactive Python. Type '?' for help.
PyDev console: using IPython 7.22.0
Out[1]: {'input_ids': [65, 10200, 14614, 113, 38989, 448, 15668, 143, 11481, 1478, 418, 6715, 6973, 2095, 4765, 4790, 414, 767, 1331, 2929, 15098, 4010, 3430, 938, 4406, 480, 1652, 1541, 762, 2737, 938, 4790, 414, 767, 24937, 632, 4010, 865, 13196, 388, 363, 7115, 648, 835, 1454, 5639, 388, 363, 2425, 21253, 387, 363, 22713, 507, 5589, 1331, 1159, 363, 10737, 7095, 5443, 938, 5829, 749, 455, 424, 1481, 392, 18046, 938, 391, 637, 607, 20336, 2412, 5009, 4963, 938, 363, 5443, 387, 1272, 2425, 938, 1965, 385, 835, 507, 5589, 24937, 865, 1215, 358, 14985, 2252, 427, 16608, 420, 2801, 391, 27442, 385, 2753, 388, 1277, 938, 363, 3095, 387, 745, 648, 15343, 363, 835, 850, 3766, 762, 388, 363, 2425, 21253, 474, 358, 2484, 6712, 865, 484, 8254, 387, 670, 1254, 46571, 8574, 474, 736, 3024, 388, 363, 7115, 865, 655, 3191, 385, 566, 1382, 456, 10737, 7095, 5443, 1871, 114, 5829, 749, 455, 424, 474, 3862, 5443, 391, 358, 2989, 387, 363, 7894, 166, 1535, 938, 363, 4612, 2652, 633, 1743, 1868, 387, 363, 14985, 2252, 865, 1871, 114, 637, 607, 20336, 938, 363, 1272, 2425, 1283, 938, 474, 15341, 388, 363, 1600, 391, 474, 632, 385, 408, 631, 387, 363, 2929, 3857, 358, 22772, 1129, 17974, 726, 363, 1714, 715, 391, 2164, 865, 1421, 22772, 3118, 363, 22476, 387, 363, 850, 9309, 23366, 3655, 388, 363, 1600, 938, 10096, 37749, 10096, 4963, 938, 358, 1679, 1930, 633, 8877, 14611, 15771, 609, 3058, 4141, 385, 7371, 1197, 363, 708, 15204, 20656, 5632, 865, 1871, 114, 10096, 37749, 474, 5126, 480, 358, 1745, 27055, 388, 4381, 114, 2422, 391, 569, 508, 688, 1876, 858, 865, 484, 507, 5589, 1806, 4187, 4582, 5306, 385, 358, 4093, 2625, 4010, 4579, 363, 386, 22494, 31882, 387, 363, 6715, 938, 358, 3495, 633, 1026, 1153, 1563, 37403, 3638, 113, 4625, 152, 143, 6301, 865, 484, 1806, 4187, 938, 13089, 358, 2744, 523, 363, 7095, 5443, 321, 439, 2708, 938, 632, 441, 474, 358, 4790, 414, 767, 3802, 5322, 6316, 391, 441, 651, 15098, 388, 500, 9290, 7505, 938, 7522, 387, 363, 45742, 175, 15811, 749, 9104, 391, 508, 1391, 523, 358, 1789, 21045, 2871, 2625, 387, 44842, 23571, 7916, 14992, 938, 363, 28948, 387, 550, 1046, 865, 484, 4874, 648, 467, 5843, 385, 10093, 363, 13745, 938, 467, 363, 1806, 4187, 632, 938, 1332, 6112, 3408, 420, 363, 1372, 387, 762, 3024, 865, 484, 6715, 474, 11401, 523, 363, 3240, 938, 670, 1254, 46571, 938, 385, 363, 47601, 38232, 8574, 387, 45742, 175, 15811, 749, 938, 911, 363, 2929, 648, 2334, 385, 5363, 358, 2523, 10643, 865, 1913, 5682, 388, 46020, 3852, 9741, 387, 10093, 3360, 20323, 16569, 523, 363, 6316, 938, 644, 4221, 385, 524, 15098, 388, 358, 20813, 633, 5118, 2090, 865, 418, 1806, 39698, 632, 363, 7115, 5192, 480, 1189, 868, 358, 114, 177, 114, 467, 484, 2829, 387, 363, 6715, 7115, 419, 1092, 6540, 938, 467, 363, 39698, 632, 865, 418, 507, 5589, 3304, 2544, 3852, 4364, 387, 6647, 2143, 7624, 7497, 611, 1575, 745, 4221, 385, 408, 382, 9104, 23544, 865, 484, 4364, 815, 508, 408, 14900, 5100, 865, 484, 7115, 474, 363, 1319, 388, 46020, 388, 363, 1039, 715, 865, 4687, 3368, 5226, 762, 648, 3024, 719, 358, 507, 5589, 16813, 5575, 15098, 388, 363, 5467, 387, 363, 1600, 865, 484, 8809, 9576, 388, 19752, 17053, 632, 441, 467, 2823, 3237, 467, 647, 363, 7115, 865, 467, 1419, 648, 647, 1261, 10506, 420, 3197, 387, 644, 850, 648, 387, 1130, 32701, 938, 467, 632, 1380, 12727, 4019, 2726, 10432, 113, 6652, 126, 10859, 5421, 151, 1089, 471, 7798, 4265, 21168, 3657, 12727, 130, 938, 358, 6624, 430, 363, 19034, 8809, 9576, 865, 66], 'attention_mask': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
Out[2]:
[65,
 10200,
 14614,
 113,
 38989,
 448,
 15668,
 143,
 11481,
 1478,
 418,
 6715,
 6973,
 2095,
 4765,
 4790,
 414,
 767,
 1331,
 2929,
 15098,
 4010,
 3430,
 938,
 4406,
 480,
 1652,
 1541,
 762,
 2737,
 938,
 4790,
 414,
 767,
 24937,
 632,
 4010,
 865,
 13196,
 388,
 363,
 7115,
 648,
 835,
 1454,
 5639,
 388,
 363,
 2425,
 21253,
 387,
 363,
 22713,
 507,
 5589,
 1331,
 1159,
 363,
 10737,
 7095,
 5443,
 938,
 5829,
 749,
 455,
 424,
 1481,
 392,
 18046,
 938,
 391,
 637,
 607,
 20336,
 2412,
 5009,
 4963,
 938,
 363,
 5443,
 387,
 1272,
 2425,
 938,
 1965,
 385,
 835,
 507,
 5589,
 24937,
 865,
 1215,
 358,
 14985,
 2252,
 427,
 16608,
 420,
 2801,
 391,
 27442,
 385,
 2753,
 388,
 1277,
 938,
 363,
 3095,
 387,
 745,
 648,
 15343,
 363,
 835,
 850,
 3766,
 762,
 388,
 363,
 2425,
 21253,
 474,
 358,
 2484,
 6712,
 865,
 484,
 8254,
 387,
 670,
 1254,
 46571,
 8574,
 474,
 736,
 3024,
 388,
 363,
 7115,
 865,
 655,
 3191,
 385,
 566,
 1382,
 456,
 10737,
 7095,
 5443,
 1871,
 114,
 5829,
 749,
 455,
 424,
 474,
 3862,
 5443,
 391,
 358,
 2989,
 387,
 363,
 7894,
 166,
 1535,
 938,
 363,
 4612,
 2652,
 633,
 1743,
 1868,
 387,
 363,
 14985,
 2252,
 865,
 1871,
 114,
 637,
 607,
 20336,
 938,
 363,
 1272,
 2425,
 1283,
 938,
 474,
 15341,
 388,
 363,
 1600,
 391,
 474,
 632,
 385,
 408,
 631,
 387,
 363,
 2929,
 3857,
 358,
 22772,
 1129,
 17974,
 726,
 363,
 1714,
 715,
 391,
 2164,
 865,
 1421,
 22772,
 3118,
 363,
 22476,
 387,
 363,
 850,
 9309,
 23366,
 3655,
 388,
 363,
 1600,
 938,
 10096,
 37749,
 10096,
 4963,
 938,
 358,
 1679,
 1930,
 633,
 8877,
 14611,
 15771,
 609,
 3058,
 4141,
 385,
 7371,
 1197,
 363,
 708,
 15204,
 20656,
 5632,
 865,
 1871,
 114,
 10096,
 37749,
 474,
 5126,
 480,
 358,
 1745,
 27055,
 388,
 4381,
 114,
 2422,
 391,
 569,
 508,
 688,
 1876,
 858,
 865,
 484,
 507,
 5589,
 1806,
 4187,
 4582,
 5306,
 385,
 358,
 4093,
 2625,
 4010,
 4579,
 363,
 386,
 22494,
 31882,
 387,
 363,
 6715,
 938,
 358,
 3495,
 633,
 1026,
 1153,
 1563,
 37403,
 3638,
 113,
 4625,
 152,
 143,
 6301,
 865,
